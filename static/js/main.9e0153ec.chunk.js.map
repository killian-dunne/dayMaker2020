{"version":3,"sources":["utils/toggleSetup.js","utils/lines&timer.js","components/ActionSetup.js","components/ActionBox.js","utils/actionOverlap.js","components/DayPlan.js","utils/dateStuff.js","utils/dbStuff.js","components/Navbar.js","components/NewDay.js","components/Dashboard.js","components/SignUp.js","components/SignIn.js","App.js","serviceWorker.js","index.js","googleLogin/web/2x/btn_google_signin_dark_normal_web@2x.png"],"names":["firebase","require","toggleSignup","e","target","classList","contains","signUpModal","document","querySelector","toggle","focus","toggleSignin","signInModal","googleLogin","a","persist","provider","auth","GoogleAuthProvider","signInWithPopup","console","log","form","closest","reset","remove","code","errorMessage","message","email","credential","isToday","ActionSetup","props","setupContent","useRef","firstTimeInput","secondTimeInput","useState","error","setError","useEffect","current","addEventListener","openAddAction","closeAction","handleSubmit","preventDefault","nodeName","handleInput","cleanInput","startTime","startText","startError","endTime","endText","endError","text","isLater","laterMessage","actionID","setAction","planId","completed","undefined","handleKeyPress","time","value","cleanedTime","key","keyCode","updatedTime","timeAddition","querySelectorAll","forEach","msg","add","nextSibling","textContent","output","secondErrDiv","firstInput","changeStartTime","changeEndTime","id","className","onClick","onSubmit","type","placeholder","name","onChange","changeText","ref","onKeyDown","onBlur","ActionBox","height","parseInt","substring","hideA","hideB","midSize","overlap","setHoverHeight","enter","box","textArea","ellipArea","top","style","parentNode","increment","setAttribute","scrollHeight","toggleCompleted","stopPropagation","completing","icon","addOrUpdateAction","planID","handleSelect","onMouseDown","eA","clickedBox","button","start","clientY","offset","offsetTop","end","allActions","planActionIds","plan","actions","map","action","allOffsets","actionBox","push","body","onmousemove","eB","i","length","includes","onmouseup","eC","Math","abs","split","prevStartTime","prevEndTime","convertHeightToTime","newStartTime","newEndTime","onMouseEnter","onMouseLeave","faCheckSquare","size","editAction","faEdit","removeAction","faTrash","shiftActions","currentIdx","overlappingIndices","checkForOverlap","firstIdx","min","filter","idx","Infinity","shiftMins","timeDifferenceBetween","data","times","countActionsToShift","overlappingActions","newActionEnd","firstIndex","numActions","overlapActions","idList","hourDiv","DayPlan","scrollPlan","scroller","keyProp","setTimeout","isCurrentDay","d","Date","currentTime","getHours","getMinutes","compareTimes","prevHour","date","scrollTop","today","tomorrow","setDate","getDate","compareDates","setTimeHeight","planNo","timeLine","drop","openAction","myAction","hour","substr","minutesSubstring","toString","slice","setState","addActionStart","tempStartTime","tempEndTime","addActionEnd","addActionText","addActionID","getActionHeight","endHours","endMinutes","actionWithStart","possibleActions","found","quarter","setPlanPosition","position","planDiv","left","setPlanHeight","handleDelete","deletePlan","removePlan","changeActionText","toggleOverlap","state","cleanedInput","currentActionIdx","findIndex","updatedStart","updatedEnd","loadActions","plans","deleteAction","highlightDate","React","createRef","this","interval","setInterval","currentTimeOn","day","calculateTimeHeight","prevProps","prevState","scrollToThis","clearInterval","j","enumerateHours","lines","addHour","addMin","indexOf","triggerSelect","selectAction","formattedDate","planDateFormat","overlapping","data-id","title","renamePlan","updatePlan","faLayerGroup","faTint","color","Component","dateFormat","displayStopwatch","sec","hours","floor","minutes","secondsString","date1","date2","setHours","getTime","time1","time2","aHour","aMin","bHour","bMin","numHours","numMins","roundMins","prevMin","mins","hourMinToString","oldTime","pos","h","m","roundTime","retH","retM","longerhDiv","concat","isNaN","handleAMPM","roundedH","roundedM","lastPart","timeA","timeB","hA","mA","hB","mB","secondsToDate","secs","t","setSeconds","timeDifference","getActions","db","window","_DEFAULT_DATA","myActions","collection","doc","get","sort","b","aStartTime","bStartTime","update","delete","addPlan","firestore","Timestamp","fromDate","snapshot","getPlanByDate","orderBy","startAt","limit","firstSnapshot","secondSnapshot","firstPlan","secondPlan","earlierDate","seconds","laterDate","earlierSecDiff","laterSecDiff","addUserToCollection","user","uid","exists","set","authLevel","Navbar","search","setSearch","userPresent","userNotPresent","initials","displayName","names","toUpperCase","buttonEnable","handleSearch","scrollToPlan","src","alt","data-toggle","data-target","aria-controls","aria-expanded","aria-label","signOut","selected","onSelect","placeholderText","disabled","NewDay","planDate","planTitle","displayNotification","updatePlans","displayNotificationText","tick","stopwatchString","currentDate","dateRef","dateString","inline","autoFocus","display","Dashboard","myPlan","getPlans","myPlans","userRef","querySnapshot","where","then","orderedPlans","toDate","catch","err","updateActions","choosePlanHeight","assignNextPosition","pA","pB","pC","num","innerWidth","itemizePlans","searchedPlan","returnJSX","SignUp","firstName","lastName","password","createUserWithEmailAndPassword","result","currentUser","updateProfile","another","location","reload","SignIn","signInWithEmailAndPassword","cred","App","onAuthStateChanged","callLogin","toggleLoggedIn","Boolean","hostname","match","config","firebaseConfig","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","settings","experimentalForceLongPolling","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.9e0153ec.chunk.js","sourcesContent":["const firebase = require('firebase');\r\n\r\nexport const toggleSignup = (e) => {\r\n  if (e.target.classList.contains('user-state')) {\r\n    const signUpModal = document.querySelector('#modal-signup');\r\n    signUpModal.classList.toggle('shown');\r\n    signUpModal.querySelector('#signup-firstName').focus();\r\n  }\r\n}\r\n\r\nexport const toggleSignin = (e) => {\r\n  if (e.target.classList.contains('user-state')) {\r\n    const signInModal = document.querySelector('#modal-signin');\r\n    signInModal.classList.toggle('shown');\r\n    signInModal.querySelector('#signin-email').focus();\r\n  }\r\n\r\n}\r\n\r\nexport const googleLogin = async e => {\r\n  e.persist();\r\n  var provider = new firebase.auth.GoogleAuthProvider();\r\n  try {\r\n    let result = await firebase.auth().signInWithPopup(provider);\r\n\r\n  //  var token = result.credential.accessToken; // This gives you a Google Access Token. You can use it to access the Google API.\r\n  //  var user = result.user; // The signed-in user info.\r\n\r\n    console.log('Using google login')\r\n    let form = e.target.closest('form');\r\n    form.reset();\r\n    if (form.closest('#modal-signin')) {\r\n      form.closest('#modal-signin').classList.remove('shown');\r\n    } else {\r\n      form.closest('#modal-signup').classList.remove('shown');\r\n    }\r\n  } catch (error) {\r\n    var errorCode = error.code;\r\n    var errorMessage = error.message;\r\n    var email = error.email;\r\n    var credential = error.credential;    // The firebase.auth.AuthCredential type that was used.\r\n    console.log('We have an error')\r\n    console.log(errorMessage)\r\n  }\r\n\r\n}\r\n","export const hourHeight = 52.8;\r\nexport let isToday = \"current-time\";\r\nexport let isTomorrow = \"tomorrow-time\";\r\n\r\nexport const enumerateHours = () => {\r\n  let times = [];\r\n  for (let i = 0; i < 24; i++) {\r\n    times.push((\"00\" + i).slice(-2) + \":00\");\r\n  }\r\n  for (let j = 0; j < 6; j++) {\r\n    times.push((\"00\" + j).slice(-2) + \":00\");\r\n  }\r\n  return times;\r\n}\r\n\r\nexport const calculateTimeHeight = (day) => {\r\n  let d = new Date();\r\n  if (day === isToday) {\r\n    // each hour is about hourHeightpx\r\n    return hourHeight * ( d.getHours() + d.getMinutes() / 60);\r\n  } else if (day === isTomorrow) {\r\n    return hourHeight * (24 + d.getHours() + d.getMinutes() / 60);\r\n  }\r\n  return null;\r\n}\r\n","import React, { useEffect, useState, useRef} from 'react';\r\nimport DatePicker from 'react-datepicker';\r\nimport { setAction } from '../utils/dbStuff';\r\nimport { timeAddition, hourMinToString, roundTime, cleanInput, isLater } from '../utils/dateStuff';\r\n\r\nconst ActionSetup = (props) => {\r\n\r\n  const setupContent = useRef(null);\r\n  const firstTimeInput = useRef(null);\r\n  const secondTimeInput = useRef(null);\r\n\r\n  let [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    setupContent.current.focus();\r\n    document.addEventListener('keydown', e => {\r\n      if (props.openAddAction && e.code === 'Escape') {\r\n        props.closeAction();\r\n      }\r\n    });\r\n  }, [])\r\n\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (e.target.nodeName === 'input') {\r\n      handleInput(e)\r\n    }\r\n    let [startText, startError] = cleanInput(props.startTime);\r\n    let [endText, endError] = cleanInput(props.endTime);\r\n    if (startError) {\r\n      setError('Incorrect start time format');\r\n    } else if (endError) {\r\n      setError('Incorrect end time format');\r\n    } else if (props.text === '') {\r\n      setError('Text cannot be blank');\r\n    } else {\r\n      let [laterMessage, later] = isLater(startText, endText);\r\n      if (later !== -1) {\r\n        setError(laterMessage);\r\n      } else {\r\n        if (props.actionID) {\r\n          props.setAction(props.text, startText, endText, props.planId, props.completed, props.actionID);\r\n        } else {\r\n          props.setAction(props.text, startText, endText, props.planId, false, undefined);\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  const getMinTime = () => {\r\n    let date = new Date(props.date.getTime());\r\n    let [startHour, startMin] = props.startTime.split(\":\");\r\n    return new Date(date.setHours(startHour, startMin, 0));\r\n  }\r\n\r\n  const getMaxTime = () => {\r\n    let tomorrow = new Date(props.date.getTime());\r\n    tomorrow.setDate(new Date().getDate() + 1);\r\n    return new Date(tomorrow.setHours(6, 0, 0));\r\n  }\r\n\r\n  const handleKeyPress = e => {\r\n    e.persist();\r\n    let time = e.target.value;\r\n    let [cleanedTime, problem] = cleanInput(time);\r\n    if (!problem) {\r\n      if (e.key === 'Enter') {\r\n        e.preventDefault();\r\n        if (e.target.nodeName === 'INPUT') {\r\n          handleInput(e)\r\n        }\r\n        handleSubmit(e);\r\n      } else if (e.keyCode === 38) {\r\n        let updatedTime = timeAddition(cleanedTime, 15);\r\n        e.target.value = updatedTime;\r\n        e.target.focus();\r\n      } else if (e.keyCode === 40) {\r\n        let updatedTime = timeAddition(cleanedTime, -15);\r\n        e.target.value = updatedTime;\r\n        e.target.focus();\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  const handleInput = e => {\r\n    let messages = e.target.closest('form').querySelectorAll('.error-message');\r\n    messages.forEach(msg => {\r\n      msg.classList.add('hide');\r\n    })\r\n    let [text, problem] = cleanInput(e.target.value);\r\n    if (problem) { // Input is not well formatted\r\n      e.target.nextSibling.classList.toggle('hide');\r\n      e.target.nextSibling.textContent = text;\r\n    } else {\r\n      let [output, error] = isLater(firstTimeInput.current.value, text);\r\n      let secondErrDiv = e.target.nextSibling.nextSibling;\r\n      let firstInput = e.target === firstTimeInput.current;\r\n      if (!firstInput && error !== -1) { // Second input is not after first\r\n        secondErrDiv.classList.remove('hide');\r\n        secondErrDiv.textContent = output;\r\n      } else {\r\n        if (!secondErrDiv.classList.contains('hide') && secondErrDiv.classList.contains('time-error')) {\r\n          secondErrDiv.classList.add('hide');\r\n          secondErrDiv.textContent = '';\r\n        }\r\n        e.target.value = text;\r\n        if (firstInput) {\r\n          props.changeStartTime(e);\r\n        } else {\r\n          props.changeEndTime(e);\r\n        }\r\n      }\r\n      if (!e.target.nextSibling.classList.contains('hide')) {\r\n        e.target.nextSibling.classList.add('hide');\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"action-setup-modal\" className=\"modal\">\r\n      <div className=\"action-setup-content\">\r\n        <span className=\"times\" onClick={props.closeAction}>&times;</span>\r\n        <form onSubmit={handleSubmit}>\r\n          <input type=\"text\" placeholder=\"Task\" value={props.text} name=\"text\" onChange={props.changeText} ref={setupContent}/>\r\n          <input  className=\"time-input start-time\"\r\n                  type=\"text\"\r\n                  placeholder=\"Start Time\"\r\n                  value={props.startTime}\r\n                  name=\"start-time\"\r\n                  onKeyDown={handleKeyPress}\r\n                  onChange={props.changeStartTime}\r\n                  onBlur={handleInput}\r\n                  ref={firstTimeInput}/>\r\n          <div className=\"error-message time-error hide first-error\">\r\n            Type a number in the form hh:mm, eg. 09:30.\r\n          </div>\r\n          <br/>\r\n          <input  className=\"time-input end-time\"\r\n                  type=\"text\"\r\n                  placeholder=\"End Time\"\r\n                  value={props.endTime}\r\n                  name=\"end-time\"\r\n                  onKeyDown={handleKeyPress}\r\n                  onChange={props.changeEndTime}\r\n                  onBlur={handleInput}\r\n                  ref={secondTimeInput}/>\r\n          <div className=\"error-message time-error hide second-error\">\r\n            Type a number in the form hh:mm, eg. 09:30.\r\n          </div>\r\n          <div className=\"error-message time-error hide third-error\">\r\n            Compare this time to the start time.\r\n          </div>\r\n          <div className=\"error-message hide submission-error\">\r\n            {error}\r\n          </div>\r\n          <br/>\r\n        <button type=\"submit\" className=\"btn btn-outline-warning\">Save</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ActionSetup\r\n","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrash, faEdit, faCheckSquare } from '@fortawesome/free-solid-svg-icons';\r\nimport { convertHeightToTime } from '../utils/dateStuff';\r\nimport { setAction } from '../utils/dbStuff';\r\n\r\nconst ActionBox = (props) => {\r\n  let height = props.height;\r\n  if (props.startTime && parseInt(props.startTime.substring(3)) === 0) {\r\n    height ++;\r\n  }\r\n  var [hideA, hideB] = [\"\", \"\"];\r\n  if (height < 16) {\r\n    [hideA, hideB] = [\"hide\", \"\"];\r\n  } else {\r\n    [hideA, hideB] = [\"\", \"hide\"];\r\n  }\r\n  let midSize = (height > 16 && height < 30) ? \"mid-height\" : \"\";\r\n  let overlap = props.overlap ? 'overlap' : '';\r\n\r\n  const setHoverHeight = (e, enter) => {\r\n    let box = e.target.closest('.action-box');\r\n    let textArea = box.querySelector('.full-text');\r\n    let ellipArea = box.querySelector('.ellipsis');\r\n    let top = box.style.top;\r\n    if (box.parentNode.querySelector(':hover') === box) {\r\n      box.classList.add('hovered');\r\n    } else {\r\n      box.classList.remove('hovered');\r\n    }\r\n    let increment = 20;\r\n    if (height < 14) {\r\n      if (box.closest(':hover') === box) {\r\n        textArea.classList.remove('hide');\r\n        ellipArea.classList.add('hide');\r\n      } else {\r\n        textArea.classList.add('hide');\r\n        ellipArea.classList.remove('hide');\r\n      }\r\n      box.setAttribute('style', `height: ${box.scrollHeight + increment}px !important`);\r\n    } else if (height < 50) {\r\n      increment = 30;\r\n      box.setAttribute('style', `height: ${textArea.scrollHeight + increment}px !important`);\r\n    } else {\r\n      increment = 10;\r\n      box.setAttribute('style', `height: ${textArea.scrollHeight + increment}px !important`);\r\n    }\r\n    if (!enter || height > textArea.scrollHeight +  increment) {\r\n\r\n      box.setAttribute('style', `height: ${height}px !important`);\r\n    }\r\n    box.style.top = top;\r\n  }\r\n\r\n  const toggleCompleted = e => {\r\n    e.stopPropagation();\r\n    let box = e.target.closest('.action-box');\r\n    let textArea = box.querySelector('.inline');\r\n    let completing = textArea.classList.contains('completed');\r\n    textArea.classList.toggle('completed');\r\n    box.classList.toggle('faded');\r\n    let classes = ['hvr-grow', 'hvr-rotate', 'hvr-buzz-out'];\r\n    box.querySelectorAll('svg').forEach(icon => { // remove animations on icons\r\n      if (icon.classList.contains('check-icon')) icon.classList.toggle('hvr-grow');\r\n      if (icon.classList.contains('edit-icon')) icon.classList.toggle('hvr-rotate');\r\n      if (icon.classList.contains('delete-icon')) icon.classList.toggle('hvr-buzz-out');\r\n    });\r\n    props.addOrUpdateAction(undefined, undefined, undefined, props.planID, completing, props.id);\r\n  }\r\n\r\n  const selectOrComplete = e => {\r\n    e.persist();\r\n    e.stopPropagation();\r\n    let box = e.target.closest('.action-box');\r\n    if (box.classList.contains('faded')) {\r\n      toggleCompleted(e);\r\n    } else {\r\n      handleSelect(e);\r\n    }\r\n  }\r\n\r\n  const handleSelect = e => {\r\n    e.stopPropagation();\r\n    let box = e.target.closest('.action-box');\r\n    if (box && !e.target.closest('.action-icon')) {\r\n      box.classList.toggle('selected');\r\n    }\r\n  }\r\n\r\n  const handleDownClick = eA => {\r\n    eA.persist();\r\n    let clickedBox = eA.target.closest('.action-box');\r\n    if (eA.button === 0 && clickedBox && !eA.target.closest('.action-icon') && clickedBox.classList.contains('selected')) {\r\n      let start = eA.clientY, offset = clickedBox.offsetTop, end = eA.clientY;\r\n      let allActions = document.querySelectorAll('.action-box');\r\n      let planActionIds = props.plan.actions.map(action => action.id);\r\n      let allOffsets = [];\r\n      clickedBox.classList.add('dragging');\r\n      allActions.forEach(actionBox => {\r\n        allOffsets.push(actionBox.offsetTop);\r\n      });\r\n\r\n      document.body.onmousemove = eB => {\r\n        end = eB.clientY;\r\n        for (let i = 0; i < allActions.length; i++) {\r\n          if (planActionIds.includes(allActions[i].id) && allActions[i].classList.contains('selected')) {\r\n            allActions[i].style.top = (allOffsets[i] + end - start) + 'px';\r\n          }\r\n        }\r\n      };\r\n      document.body.onmouseup = eC => {\r\n        if (Math.abs(end - start) < 5) { // If barely dragged\r\n          clickedBox.style.top = offset + 'px'; // return to original position\r\n        } else {\r\n          for (let actionBox of allActions) {\r\n            if (planActionIds.includes(actionBox.id) && actionBox.classList.contains('selected')) {\r\n              let completed = actionBox.classList.contains('completed');\r\n              let [prevStartTime, prevEndTime] = actionBox.querySelector('.action-times').textContent.split(\"-\");\r\n              let [newStartTime, newEndTime] = [convertHeightToTime(prevStartTime, end - start), convertHeightToTime(prevEndTime, end - start)];\r\n              let text = actionBox.querySelector('.full-text').querySelector('.inline').textContent;\r\n              props.addOrUpdateAction(text, newStartTime, newEndTime, props.planID, completed, actionBox.id);\r\n              if (actionBox !== clickedBox) {\r\n                actionBox.classList.remove('selected');\r\n              }\r\n            }\r\n          }\r\n          clickedBox.classList.remove('dragging');\r\n          handleSelect(eA); // cancel(/duplicate) toggle select\r\n        }\r\n        document.body.onmousemove = document.body.onmouseup = null;\r\n      };\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id={props.id} className={`action-box ${overlap}`} style={{height: height +'px'}} onClick={selectOrComplete} onMouseDown={handleDownClick} onMouseEnter={e => setHoverHeight(e, true)} onMouseLeave={setHoverHeight}>\r\n      <div className=\"gen-writing\">\r\n        <div className=\"action-icon action-check fa-icon\" onClick={toggleCompleted}>\r\n          <FontAwesomeIcon icon={faCheckSquare} size=\"1x\" className=\"check-icon hvr-grow\"/>\r\n        </div>\r\n        <div className=\"action-icon action-edit fa-icon\" onClick={e => props.editAction(e, props.id)}>\r\n          <FontAwesomeIcon icon={faEdit} size=\"1x\" className=\"edit-icon hvr-rotate\"/>\r\n        </div>\r\n        <div className=\"action-icon action-trash fa-icon\" onClick={e => props.removeAction(e, props.id)}>\r\n          <FontAwesomeIcon icon={faTrash} size=\"1x\" className=\"delete-icon hvr-buzz-out\"/>\r\n        </div>\r\n        <div className={`full-text ${hideA} ${midSize}`}>\r\n          <div className=\"inline\">\r\n            {props.text}\r\n          </div>\r\n        </div>\r\n        <div className={`ellipsis ${hideB}`}>\r\n          ...\r\n        </div>\r\n        <div className=\"action-times\">\r\n          {props.startTime}-{props.endTime}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ActionBox\r\n","import { isLater, timeDifferenceBetween } from './dateStuff';\r\nimport { hourDiv } from '../components/DayPlan';\r\n\r\nexport const shiftActions = (startTime, endTime, actions, currentIdx) => {\r\n  let overlappingIndices = checkForOverlap(startTime, endTime, actions);\r\n  if (overlappingIndices.length > 2) {\r\n    console.log('You can only have two actions at the same time')\r\n    return [-1, null, null];\r\n  } else if (overlappingIndices.length > 0) {\r\n    let firstIdx = Math.min(...overlappingIndices.filter(idx => idx !== currentIdx));\r\n    if (firstIdx === Infinity) {\r\n      return [0, 0, 0]\r\n    }\r\n    let shiftMins = timeDifferenceBetween(actions[firstIdx].data.times.startTime, endTime);\r\n    if (shiftMins > 0) {\r\n      let numActions = countActionsToShift(endTime, firstIdx, actions, shiftMins);\r\n      return [firstIdx, shiftMins, numActions];\r\n    } else {\r\n      console.log('Time difference is negative');\r\n      return [-1, null, null]\r\n    }\r\n  } else {\r\n    return [0, 0, 0]\r\n  }\r\n}\r\n\r\nexport const checkForOverlap = (start, end, actions) => {\r\n  let overlappingActions = [];\r\n  actions.forEach((action, idx) => {\r\n    if ((\r\n        isLater(start, action.data.times.startTime)[1] !== -1 &&\r\n        isLater(action.data.times.endTime, start)[1] === 1\r\n      ) || (\r\n        isLater(end, action.data.times.startTime)[1] === 1 &&\r\n        isLater(action.data.times.endTime, end)[1] !== -1\r\n      )) {\r\n      overlappingActions.push(idx);\r\n    }\r\n  })\r\n  return overlappingActions;\r\n}\r\n\r\nexport const countActionsToShift = (newActionEnd, firstIndex, actions, shiftMins) => {\r\n  // first Index should be the index of the first pair of overlapping actions\r\n  // returns the number of overlapping actions after this index\r\n  let numActions = 1;\r\n  for (let i = firstIndex; i < actions.length - 1; i++) {\r\n    if (timeDifferenceBetween(actions[i].data.times.endTime, actions[i+1].data.times.startTime)  < shiftMins) {\r\n      numActions ++;\r\n    } else {\r\n      break;\r\n    }\r\n  }\r\n  return numActions;\r\n}\r\n\r\nexport const overlapActions = (actions) => {\r\n  let idList = [];\r\n  for (let i = 0; i < actions.length - 1; i++ ) {\r\n    if (\r\n      isLater(actions[i].data.times.endTime, actions[i + 1].data.times.startTime)[1] === 1 &&\r\n      isLater(actions[i + 1].data.times.startTime, actions[i].data.times.startTime)[1] !== -1 &&\r\n      !idList.includes(actions[i].id) &&\r\n      !idList.includes(actions[i + 1].id)\r\n    ) {\r\n      idList.push(actions[i + 1].id)\r\n    }\r\n  }\r\n\r\n  return idList;\r\n}\r\n","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTint } from '@fortawesome/free-solid-svg-icons';\r\nimport ActionSetup from './ActionSetup';\r\nimport { deletePlan } from '../utils/dbStuff';\r\nimport { enumerateHours, hourHeight, calculateTimeHeight, isToday, isTomorrow } from '../utils/lines&timer';\r\nimport { compareDates, compareTimes, cleanInput, planDateFormat, timeAddition } from '../utils/dateStuff';\r\nimport ActionBox from './ActionBox';\r\nimport { faTrash, faLayerGroup } from '@fortawesome/free-solid-svg-icons';\r\nimport { setAction, deleteAction } from '../utils/dbStuff';\r\nimport { countActionsToShift, shiftActions } from '../utils/actionOverlap';\r\n\r\nexport const hourDiv = [\"00\", \"15\", \"30\", \"45\"];\r\n\r\nclass DayPlan extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      addActionStart: \"\",\r\n      addActionEnd: \"\",\r\n      addActionText: \"\",\r\n      addActionID: \"\",\r\n      tempStartTime: \"\",\r\n      tempEndTime: \"\",\r\n      openAddAction: false,\r\n      highlightDate: \"\",\r\n      overlap: false,\r\n    }\r\n    this.planDiv = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.scrollPlan();\r\n    this.interval = setInterval(() => {\r\n      let currentTimeOn = this.isCurrentDay();\r\n      //  console.log(this.props.title, this.props.keyProp, currentTimeOn)\r\n      if (currentTimeOn === isToday) {\r\n        let height = calculateTimeHeight(currentTimeOn);\r\n        this.interval = setInterval(this.setTimeHeight(this.props.keyProp, height), 30000) // every 5 mins\r\n      }\r\n    });\r\n    this.setPlanPosition();\r\n    this.setPlanHeight();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.height !== this.props.height) {\r\n      this.setPlanHeight();\r\n    }\r\n    if (prevProps.position !== this.props.position) {\r\n      this.setPlanPosition();\r\n    }\r\n    if (prevProps.scrollToThis !== this.props.scrollToThis && this.props.scrollToThis) {\r\n      document.querySelector('.gen-area').scrollTop = parseInt(this.props.position.substring(1));\r\n      this.setState({highlightDate: 'highlight-date'});\r\n      setTimeout(()=> {\r\n        this.setState({highlightDate: \"\"})\r\n      }, 3000)\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval)\r\n  }\r\n\r\n  scrollPlan = () => {\r\n    const scroller = document.querySelector(`#day-plan-${this.props.keyProp} .scroller`);\r\n    setTimeout(() => {\r\n      let scrollHeight = 0;\r\n      if (scroller) {\r\n        if (this.isCurrentDay() === isToday) {\r\n          let d = new Date();\r\n          let currentTime = d.getHours() + \":\" + d.getMinutes();\r\n          if (this.props.actions.length) {\r\n            let earlier = compareTimes(this.props.actions[0].data.times.startTime, currentTime);\r\n            if (earlier < 1) { // use first action time\r\n              let prevHour = parseInt(this.props.actions[0].data.times.startTime) - 1;\r\n              if (prevHour > 0) {\r\n                scrollHeight = prevHour * hourHeight - 10;\r\n              }\r\n            } else {\r\n              if (this.props.date.getHours() > 0) {\r\n                scrollHeight = parseInt(currentTime) * hourHeight - 10;\r\n              }\r\n            }\r\n          } else {\r\n            scrollHeight = parseInt(currentTime) * hourHeight - 10;\r\n          }\r\n        } else {\r\n          scrollHeight = 8 * hourHeight - 10;\r\n        }\r\n      } else {\r\n        console.log(`couldn't find scroller`)\r\n      }\r\n      scroller.scrollTop = scrollHeight;\r\n    }, 500);\r\n  }\r\n\r\n  isCurrentDay = () => {\r\n    let today = new Date();\r\n    let tomorrow = new Date();\r\n    tomorrow.setDate(today.getDate() + 1);\r\n    if (compareDates(today, this.props.date) === 0) {\r\n      return isToday;\r\n    } else if (compareDates(tomorrow, this.props.date) === 0) {\r\n      return isTomorrow;\r\n    }\r\n    return \"\";\r\n  }\r\n\r\n  setTimeHeight = (planNo, height) => {\r\n    const timeLine = document.querySelector(`#day-plan-${planNo} .now-time`);\r\n    if (timeLine) {\r\n      timeLine.classList.remove('hide');\r\n      timeLine.style.top = `${height + 26}px`;\r\n      const drop = document.querySelector(`#day-plan-${planNo} .drop`);\r\n      if (drop) {\r\n        drop.classList.remove('hide');\r\n        drop.style.top = `${height + 21}px`;\r\n      }\r\n    }\r\n  }\r\n\r\n  openAction = (e, id)=> {\r\n    let box = e.target;\r\n    let icon = box.closest('.action-icon');\r\n    if (!box.closest('.action-box') || (icon && icon.classList.contains('action-edit') && !icon.closest('.action-box').classList.contains('faded'))) {\r\n      let startTime, endTime, text;\r\n      if (id) {\r\n        let actions = this.props.actions;\r\n        this.removeAction(null, id)\r\n        let myAction;\r\n        actions.forEach(action => {\r\n          if (action.id === id) {\r\n            myAction = action;\r\n          }\r\n        });\r\n        if (myAction) {\r\n          startTime = myAction.data.times.startTime;\r\n          endTime = myAction.data.times.endTime;\r\n          text = myAction.data.text;\r\n        } else {\r\n          startTime = endTime = text = \"\";\r\n        }\r\n\r\n      } else {\r\n        let hour = box.closest('table').classList[1].substr(6);\r\n        if (!box.classList.contains('clickable-time')) {\r\n          box = box.closest('.clickable-time');\r\n        }\r\n        let minutes = box.classList[0];\r\n        let minutesSubstring =  \":\" + (\"00\" + minutes.toString()).slice(-2);\r\n        startTime = (\"00\" + hour.toString()).slice(-2) + minutesSubstring;\r\n        endTime = (\"00\" + (parseInt(hour) + 1).toString()).slice(-2) + minutesSubstring;\r\n        text = \"\";\r\n        id = \"\";\r\n      }\r\n      this.setState({\r\n        addActionStart: startTime,\r\n        tempStartTime: startTime,\r\n        tempEndTime: endTime,\r\n        addActionEnd: endTime,\r\n        addActionText: text,\r\n        id,\r\n        openAddAction: true\r\n      });\r\n    }\r\n  }\r\n\r\n  closeAction = () => {\r\n    this.setState({\r\n      addActionStart: \"\",\r\n      addActionEnd: \"\",\r\n      tempStartTime: \"\",\r\n      tempEndTime: \"\",\r\n      addActionText: \"\",\r\n      addActionID: \"\",\r\n      openAddAction: false\r\n    });\r\n  }\r\n\r\n  getActionHeight = (startTime, endTime) => {\r\n    var [endHours, endMinutes] =[0, 0];\r\n    if (endTime === null){\r\n      [endHours, endMinutes] = startTime.split(\":\");\r\n      endHours++;\r\n    } else {\r\n      [endHours, endMinutes] = endTime.split(\":\");\r\n    }\r\n    let [hours, minutes] = startTime.split(':');\r\n    let height = (endHours - hours) * hourHeight + (endMinutes - minutes) * hourHeight / 60;\r\n    return height;\r\n  }\r\n\r\n  actionWithStart = (hour) => {\r\n    let possibleActions = [];\r\n    let actions = this.props.actions; // array of these [id, data]\r\n    let found = false;\r\n    for (let quarter of hourDiv) {\r\n      for (let action of actions) {\r\n        if (action.data.times.startTime === hour + \":\" + quarter) {\r\n          let startTime = action.data.times.startTime;\r\n          let endTime = action.data.times.endTime;\r\n          possibleActions.push([action.id, action.data, this.getActionHeight(startTime, endTime)]);\r\n          found = true;\r\n        }\r\n      }\r\n      if (!found) {\r\n        possibleActions.push(null);\r\n      } else {\r\n        found = false;\r\n      }\r\n    }\r\n    return possibleActions; // Array of length 4 with each entry null or\r\n    // of the form [{id, data: {text: , completed:, ...}}, height];\r\n  }\r\n\r\n  setPlanPosition = () => {\r\n    let position = this.props.position;\r\n    if (position[0] === 'B') {\r\n      this.planDiv.current.style.left = '50%';\r\n    } else {\r\n      this.planDiv.current.style.left = '0%';\r\n    }\r\n    this.planDiv.current.style.top = position.substr(1) + 'px';\r\n    if (position[0] === 'C') {\r\n      this.planDiv.current.closest('.plans-list').setAttribute('style', 'display: flex;justify-content:center;');\r\n    }\r\n  }\r\n\r\n  setPlanHeight = () => {\r\n    this.planDiv.current.style.height = this.props.height.toString() + 'px';\r\n  }\r\n\r\n  handleDelete = async e => {\r\n    e.preventDefault();\r\n    await deletePlan(this.props.id);\r\n    this.props.removePlan(this.props.id);\r\n  }\r\n\r\n  changeActionText = e => {\r\n    let text = e.target.value;\r\n    this.setState({\r\n      addActionText: text\r\n    });\r\n  }\r\n\r\n  toggleOverlap = e => {\r\n    this.setState({ overlap: !this.state.overlap})\r\n  }\r\n\r\n  changeStartTime = (e, time) => {\r\n    if (!time) {\r\n      time = e.target.value;\r\n    }\r\n    let cleanedInput = cleanInput(time);\r\n    if (!cleanedInput[1]) {\r\n      this.setState({tempStartTime: cleanedInput[0]})\r\n    }\r\n    this.setState({\r\n      addActionStart: time\r\n    });\r\n  }\r\n\r\n  changeEndTime = (e, time) => {\r\n    if (!time) {\r\n      time = e.target.value;\r\n    }\r\n    let cleanedInput = cleanInput(time);\r\n    if (!cleanedInput[1]) {\r\n      this.setState({tempEndTime: cleanedInput[0]})\r\n    }\r\n    this.setState({\r\n      addActionEnd: time\r\n    });\r\n  }\r\n\r\n  addOrUpdateAction = async (text, startTime, endTime, planId, completed, actionID) => {\r\n    // Check if action overlaps with another time\r\n    let actions = this.props.actions;\r\n    if (!this.state.overlap && startTime && endTime) {\r\n      let currentActionIdx;\r\n      if (actionID) {\r\n        currentActionIdx = actions.findIndex(action => action.id === actionID);\r\n      }\r\n      let [firstIdx, shiftMins, numActions] = shiftActions(startTime, endTime, actions, currentActionIdx);\r\n\r\n      for (let i = firstIdx; i < firstIdx + numActions; i++) {\r\n        if (currentActionIdx !== firstIdx) {\r\n          let updatedStart = timeAddition(actions[i].data.times.startTime, shiftMins);\r\n          let updatedEnd = timeAddition(actions[i].data.times.endTime, shiftMins);\r\n          await setAction(undefined, updatedStart, updatedEnd, planId, undefined, actions[i].id);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (actionID) {\r\n      await setAction(text, startTime, endTime, planId, completed, actionID);\r\n    } else {\r\n      await setAction(text, this.state.addActionStart, this.state.addActionEnd, this.props.id);\r\n    }\r\n    await this.props.loadActions(this.props.id);\r\n    let plans = this.state.plans;\r\n    this.setState({\r\n      addActionStart: \"\",\r\n      addActionEnd: \"\",\r\n      tempStartTime: \"\",\r\n      tempEndTime: \"\",\r\n      addActionText: \"\",\r\n      addActionID: \"\",\r\n      plans,\r\n      openAddAction: false\r\n    });\r\n  }\r\n\r\n  removeAction = async (e, id) => {\r\n    if (e) {\r\n      let box = e.target.closest('.action-box');\r\n      if (box && !box.classList.contains('faded')) {\r\n        await deleteAction(this.props.id, id);\r\n        this.props.loadActions(this.props.id);\r\n      }\r\n    } else {\r\n      await deleteAction(this.props.id, id);\r\n      this.props.loadActions(this.props.id);\r\n    }\r\n\r\n  }\r\n\r\n  render () {\r\n    const times = enumerateHours();\r\n    let lines = [];\r\n    if (this.state.tempStartTime) {\r\n      var [addHour, addMin] = this.state.tempStartTime.split(\":\");\r\n      var idx = hourDiv.indexOf(addMin);\r\n    }\r\n    for (let i = 0; i < 30; i++) {\r\n      let hour = (\"00\" + i.toString()).slice(-2);\r\n      let a = this.actionWithStart(hour); // returns actions starting this hour\r\n      if (addHour && addHour === hour) {\r\n        let height = this.getActionHeight(this.state.tempStartTime, this.state.tempEndTime);\r\n        a[idx] = ['addId', {text: \"\", times: [this.state.tempStartTime, this.state.tempEndTime], completed: false, plan: this.props.id}, height];\r\n      }\r\n      lines.push(\r\n        <table key={i} className={`times table-${i}`}>\r\n          <thead>\r\n            <tr>\r\n              <th><div>{times[i]}</div></th>\r\n              <th className={`.min-${hourDiv[0]} clickable-time`} onClick={this.openAction}>\r\n                {(a[0] !== null && a[0][1]) &&\r\n                  <ActionBox  height={a[0][2]}\r\n                              text={a[0][1].text}\r\n                              removeAction={this.removeAction}\r\n                              editAction={this.openAction}\r\n                              id={a[0][0]}\r\n                              startTime={a[0][1].times.startTime}\r\n                              endTime={a[0][1].times.endTime}\r\n                              triggerSelect={this.selectAction}\r\n                              completed={a[0][1].completed}\r\n                              date={this.props.date}\r\n                              planID={this.props.id}\r\n                              addOrUpdateAction={this.addOrUpdateAction}\r\n                              plan={this.props.plan}\r\n                              overlap={this.props.overlappingActions.includes(a[0][0])}/>\r\n                }\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td></td><td className={`.min-${hourDiv[1]} clickable-time`} onClick={this.openAction}>\r\n                {(a[1] !== null && a[1][1]) &&\r\n                  <ActionBox  height={a[1][2]}\r\n                              text={a[1][1].text}\r\n                              removeAction={this.removeAction}\r\n                              editAction={this.openAction}\r\n                              id={a[1][0]}\r\n                              startTime={a[1][1].times.startTime}\r\n                              endTime={a[1][1].times.endTime}\r\n                              triggerSelect={this.selectAction}\r\n                              completed={a[1][1].completed}\r\n                              date={this.props.date}\r\n                              planID={this.props.id}\r\n                              addOrUpdateAction={this.addOrUpdateAction}\r\n                              plan={this.props.plan}\r\n                              overlap={this.props.overlappingActions.includes(a[1][0])}/>\r\n                }\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td></td><td className={`.min-${hourDiv[2]} clickable-time`} onClick={this.openAction}>\r\n                {(a[2] !== null && a[2][1]) &&\r\n                  <ActionBox  height={a[2][2]}\r\n                              text={a[2][1].text}\r\n                              removeAction={this.removeAction}\r\n                              editAction={this.openAction}\r\n                              id={a[2][0]}\r\n                              startTime={a[2][1].times.startTime}\r\n                              endTime={a[2][1].times.endTime}\r\n                              triggerSelect={this.selectAction}\r\n                              completed={a[2][1].completed}\r\n                              date={this.props.date}\r\n                              planID={this.props.id}\r\n                              addOrUpdateAction={this.addOrUpdateAction}\r\n                              plan={this.props.plan}\r\n                              overlap={this.props.overlappingActions.includes(a[2][0])}/>\r\n                }\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td></td><td className={`.min-${hourDiv[3]} clickable-time`} onClick={this.openAction}>\r\n                {(a[3] !== null && a[3][1]) &&\r\n                  <ActionBox  height={a[3][2]}\r\n                              text={a[3][1].text}\r\n                              removeAction={this.removeAction}\r\n                              editAction={this.openAction}\r\n                              id={a[3][0]}\r\n                              startTime={a[3][1].times.startTime}\r\n                              endTime={a[3][1].times.endTime}\r\n                              triggerSelect={this.selectAction}\r\n                              completed={a[3][1].completed}\r\n                              date={this.props.date}\r\n                              planID={this.props.id}\r\n                              addOrUpdateAction={this.addOrUpdateAction}\r\n                              plan={this.props.plan}\r\n                              overlap={this.props.overlappingActions.includes(a[3][0])}/>\r\n                }\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        );\r\n    }\r\n    let formattedDate = planDateFormat(this.props.date);\r\n    let overlapping = this.state.overlap ? 'overlap-yes' : 'overlap-no';\r\n    return (\r\n      <div id={`day-plan-${this.props.keyProp}`} className=\"plan-box bg-light plan-details\" data-id={this.props.id} ref={this.planDiv}>\r\n        <div className=\"title-box\">\r\n          <input value={this.props.title} className=\"h3 day-title\" onChange={e => {this.props.renamePlan(e, this.props.id)}} onBlur={e => {this.props.updatePlan(e, this.props.id)}}/>\r\n          <FontAwesomeIcon icon={faLayerGroup} size=\"1x\" className={`fa-icon plan-overlap hvr-icon-fade ${overlapping}`} onClick={this.toggleOverlap}/>\r\n          <FontAwesomeIcon icon={faTrash} size=\"1x\" className=\"fa-icon plan-trash hvr-buzz-out\" onClick={this.handleDelete}/>\r\n          <div className={`date ${this.state.highlightDate}`}>{formattedDate}</div>\r\n        </div>\r\n        <div className=\"scroller\">\r\n          <div className=\"now-time hide\"></div><FontAwesomeIcon icon={faTint} color=\"blue\" className=\"drop hide\"/>\r\n          {lines}\r\n        </div>\r\n        {\r\n          this.state.openAddAction &&\r\n          <ActionSetup  startTime={this.state.addActionStart}\r\n                        endTime={this.state.addActionEnd}\r\n                        planId={this.props.id}\r\n                        changeStartTime={this.changeStartTime}\r\n                        changeEndTime={this.changeEndTime}\r\n                        closeAction={this.closeAction}\r\n                        text={this.state.addActionText}\r\n                        changeText={this.changeActionText}\r\n                        actionID={this.state.addActionID}\r\n                        setAction={this.addOrUpdateAction}\r\n                        date={this.props.date}\r\n                        openAddAction={this.state.openAddAction}\r\n                        />\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DayPlan;\r\n// < Action />\r\n","import { hourHeight } from './lines&timer';\r\nimport { hourDiv } from '../components/DayPlan';\r\n\r\nvar dateFormat = require('dateformat');\r\n\r\nexport const displayStopwatch = (sec) => {\r\n  let output = `Planning time: `;\r\n  let hours = Math.floor(sec/3600);\r\n  let minutes = Math.floor(sec/60);\r\n  let secondsString = '';\r\n  if (minutes > 0) {\r\n    if (hours > 0) {\r\n      let hoursString = (\"00\" + hours).slice(-2);\r\n      output += hoursString + \":\";\r\n    }\r\n    let minutesString = '';\r\n    if (minutes > 9) {\r\n      minutesString = (\"00\" + (minutes%60)).slice(-2);\r\n    } else {\r\n      minutesString = minutes.toString();\r\n    }\r\n    output += minutesString + \":\";\r\n    secondsString = (\"00\" + (sec%60)).slice(-2);\r\n  } else {\r\n    secondsString = (sec%60).toString();\r\n  }\r\n  output += secondsString + \".\"\r\n  return output;\r\n}\r\n\r\nexport const planDateFormat = d => {\r\n  return dateFormat(d, \"d-mmm-yy\");\r\n}\r\n\r\nexport const displayDate = (d) => {\r\n  return dateFormat(d, \"ddd, dS mmm yyyy, h:MM TT\");\r\n}\r\n\r\nexport const titleDate = d => {\r\n  return dateFormat(d, \"dS mmm yy\");\r\n}\r\n\r\nexport const compareDates = (date1, date2) => {\r\n  date1.setHours(0,0,0,0);\r\n  date2.setHours(0,0,0,0);\r\n  if (date1.getTime() === date2.getTime()) {\r\n    return 0;\r\n  } else if (date1 > date2) {\r\n    return 1;\r\n  } else {\r\n    return -1;\r\n  }\r\n}\r\n\r\nexport const compareTimes = (time1, time2) => { // form= 08:15. positive if first larger/later\r\n  let [aHour, aMin] = time1.split(':');\r\n  let [bHour, bMin] = time2.split(':');\r\n  if (aHour > bHour) {\r\n    return 1;\r\n  } else if (aHour < bHour) {\r\n    return -1;\r\n  } else {\r\n    if (aMin > bMin) {\r\n      return 1;\r\n    } else if (aMin < bMin) {\r\n      return -1;\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n}\r\n\r\nexport const convertHeightToTime = (time, height) => {\r\n  if (height === 0) {\r\n    return time;\r\n  }\r\n  let add = height > 0 ? true : false;\r\n  if (!add) {\r\n    height = -height;\r\n  }\r\n  let numHours = Math.floor(height / hourHeight);\r\n  let numMins = (height - numHours * hourHeight) * 60 / hourHeight;\r\n  numHours = add ? numHours : -numHours;\r\n  let roundMins = add ? 45 : -60;\r\n  for (let i = 1; i < hourDiv.length; i++) {\r\n    if (numMins < hourDiv[i]) {\r\n      roundMins = add ? hourDiv[i-1] : -hourDiv[i];\r\n      break;\r\n    }\r\n  }\r\n  let [prevHour, prevMin] = time.split(':');\r\n  let mins = parseInt(prevMin) + parseInt(roundMins);\r\n  let hours = parseInt(prevHour) + parseInt(numHours);\r\n  if (mins > 59) {\r\n    mins %= 60;\r\n    hours ++;\r\n  } else if (mins < 0) {\r\n    mins += 60;\r\n    hours --;\r\n  }\r\n  return hourMinToString(hours, mins);\r\n}\r\n\r\nexport const timeAddition = (oldTime, increment) => { // Eg increment = -30 (mins)\r\n  if (increment === 0) return oldTime;\r\n  let [hours, mins] = oldTime.split(':');\r\n  [hours, mins] = [parseInt(hours), parseInt(mins)];\r\n  let pos = increment > 0 ? true : false;\r\n  if (!pos) increment = -increment;\r\n  let numHours = Math.floor(increment / 60);\r\n  let numMins = increment % 60;\r\n  if (!pos) {\r\n    numHours = -numHours;\r\n    numMins = -numMins;\r\n  }\r\n  if (numMins + mins > 59) {\r\n    hours ++;\r\n  } else if (numMins + mins < 0) {\r\n    hours --;\r\n    mins += 60;\r\n  }\r\n  return hourMinToString(hours + numHours, mins + numMins);\r\n}\r\n\r\nexport const hourMinToString = (h, m) => {\r\n  return (\"00\" + (parseInt(h) % 24)).slice(-2) + \":\" + (\"00\" + (parseInt(m) % 60)).slice(-2);\r\n}\r\n\r\nexport const roundTime = (h, m) => {\r\n  [h, m] = [parseInt(h), parseInt(m)];\r\n  let [retH, retM] = [0, 0];\r\n  if (m.toString().length === 1) {\r\n    m = m * 10;\r\n  }\r\n  let longerhDiv = hourDiv.concat(60);\r\n  for (let i = 0; i < longerhDiv.length - 1; i++) {\r\n    if (m < (parseInt(longerhDiv[i]) + parseInt(longerhDiv[i+1])) / 2) {\r\n      retM = longerhDiv[i];\r\n      break;\r\n    } else {\r\n      retM = 60;\r\n    }\r\n  }\r\n  if (retM === 60) {\r\n    retM = 0;\r\n    retH = parseInt(h) + 1;\r\n  } else {\r\n    retH = h;\r\n  }\r\n  [retH, retM] = [parseInt(retH), parseInt(retM)];\r\n  return [retH, retM];\r\n}\r\n\r\nexport const cleanInput = (text, increment = false) => { // return [text, problem]\r\n  if (isNaN(parseInt(text))) {\r\n    return ['Time missing', true];\r\n  }\r\n  if (!increment) {\r\n    [text, increment] = handleAMPM(text);\r\n  }\r\n  if (text.includes(\":\")) {\r\n    let [h, m] = text.split(\":\");\r\n    if (isNaN(h) || isNaN(m)) {\r\n      return ['Input time only as numbers', true]\r\n    } else {\r\n      if (increment) {\r\n        h = parseInt(h) + 12;\r\n      }\r\n      return [hourMinToString(h, m), false];\r\n    }\r\n  } else {\r\n    let [h, m] = [0, 0];\r\n    switch (text.length) {\r\n      case 1:\r\n        if (isNaN(text)) {\r\n          return [`A time needs a number!`, true]\r\n        } else {\r\n          if (increment) {\r\n            text = parseInt(text) + 12;\r\n          }\r\n          return [hourMinToString(text, 0), false]\r\n        }\r\n        return ['Input is not formatted correctly', true];\r\n        break;\r\n      case 2:\r\n        if (!isNaN(text)) {\r\n          if (increment) {\r\n            text = parseInt(text) + 12;\r\n          }\r\n          return [hourMinToString(text, 0), false];\r\n        }\r\n        return ['Input is not formatted correctly', true];\r\n        break;\r\n      case 3:\r\n        if (handleAMPM(text)[0] !== text) {\r\n          if (increment) {\r\n            return cleanInput(text.substring(text.length), increment)\r\n          }\r\n        }\r\n        [h, m] = [text[0], text.substring(1)];\r\n        if (increment) {\r\n          h = parseInt(h) + 12;\r\n        }\r\n        if (!isNaN(h) && !isNaN(m)) {\r\n          let [roundedH, roundedM] = roundTime(h, m);\r\n          return [hourMinToString(roundedH, roundedM), false];\r\n        }\r\n        return ['Input is not formatted correctly', true];\r\n        break;\r\n      case 4:\r\n        [h, m] = [text.substring(0, 2), text.substring(2)];\r\n        if (!isNaN(h) && !isNaN(m)) {\r\n          if (increment || (parseInt(h) == 12 && increment === null)) {\r\n            h = parseInt(h) + 12;\r\n          }\r\n          let [roundedH, roundedM] = roundTime(h, m);\r\n          return [hourMinToString(roundedH, roundedM), false];\r\n        }\r\n        return ['Input is not formatted correctly', true];\r\n        break;\r\n      case 5:\r\n      case 6:\r\n        if (handleAMPM(text)[0] !== text) {\r\n          if (increment) {\r\n            if (text[0] === 1 && text[1] === 2) {\r\n              increment = !increment;\r\n            }\r\n            return cleanInput(text.substring(0, text.length - 2), increment);\r\n          }\r\n        }\r\n        return ['Input is not formatted correctly', true];\r\n        break;\r\n      default:\r\n        return ['Input is not formatted correctly', true];\r\n    }\r\n  }\r\n}\r\n\r\nexport const handleAMPM = (text) => {\r\n  let lastPart = text.substring(text.length - 2);\r\n  if (lastPart === 'am' || lastPart === 'AM') {\r\n    return [text.substring(0, text.length - 2), null];\r\n  } else if (lastPart === 'pm' || lastPart === 'PM') {\r\n    return [text.substring(0, text.length - 2), true];\r\n  } else {\r\n    return [text, false];\r\n  }\r\n}\r\n\r\nexport const isLater = (timeA, timeB) => { // 1 if timeA after timeB\r\n                                           // 0 if equal times\r\n                                           // -1 if timeB after timeA\r\n  let [hA, mA] = timeA.split(\":\");\r\n  let [hB, mB] = timeB.split(\":\");\r\n  [hA, mA] = [parseInt(hA), parseInt(mA)];\r\n  [hB, mB] = [parseInt(hB), parseInt(mB)];\r\n  if (hA > hB || (hA === hB && mA > mB)) {\r\n    return ['Set the end time after the start time', 1];\r\n  } else if (hA === hB && mA === mB) {\r\n    return [`It should take at least ${hourDiv[1]} minutes`, 0];\r\n  } else {\r\n    return ['Yay', -1];\r\n  }\r\n}\r\n\r\n\r\nexport const secondsToDate = (secs) => {\r\n    var t = new Date(1970, 0, 1);\r\n    t.setSeconds(secs);\r\n    return t;\r\n}\r\n\r\nexport const timeDifferenceBetween = (timeA, timeB) => { // how many minutes later is timeB than timeA\r\n  let timeDifference = 0;\r\n  if (isLater(timeA, timeB)[1] === 1) {\r\n    while (isLater(timeA, timeB)[1] === 1) {\r\n      timeDifference -= parseInt(hourDiv[1]);\r\n      timeA = timeAddition(timeA, -hourDiv[1]);\r\n    }\r\n  } else if (isLater(timeB, timeA)[1] === 1) {\r\n    while (isLater(timeB, timeA)[1] === 1) {\r\n      timeDifference += parseInt(hourDiv[1]);\r\n      timeB = timeAddition(timeB, -hourDiv[1]);\r\n    }\r\n  } else {\r\n    return 0;\r\n  }\r\n  return timeDifference;\r\n}\r\n","import { compareDates, compareTimes, secondsToDate } from '../utils/dateStuff';\r\n\r\nconst firebase = require('firebase');\r\n\r\nexport const getActions = async planId => {\r\n  const db = window._DEFAULT_DATA[1];\r\n  let myActions = [];\r\n  let querySnapshot = await db.collection('plans').doc(planId).collection('actions').get();\r\n  querySnapshot.forEach(action => {\r\n    myActions.push({id: action.id, data: action.data()});\r\n  });\r\n  myActions.sort((a, b) => { // earliest start times first\r\n    let aStartTime = a.data.times.startTime;\r\n    let bStartTime = b.data.times.startTime;\r\n    return compareTimes(aStartTime, bStartTime);\r\n  });\r\n  return myActions;\r\n}\r\n\r\nexport const setAction = async (text, startTime, endTime, planId, completed, actionID) => {\r\n  const db = window._DEFAULT_DATA[1];\r\n  let data = {};\r\n  if (text !== undefined) {\r\n    data.text = text;\r\n  }\r\n  if (startTime !== undefined && endTime !== undefined) {\r\n    data.times = {startTime, endTime};\r\n  }\r\n  if (completed !== undefined) {\r\n    data.completed = completed;\r\n  }\r\n  if (actionID) {\r\n    await db.collection('plans').doc(planId).collection('actions').doc(actionID).update(data);\r\n  } else {\r\n    await db.collection('plans').doc(planId).collection('actions').add(data);\r\n  }\r\n}\r\n\r\nexport const deleteAction = async (planID, id) => {\r\n  debugger;\r\n  const db = window._DEFAULT_DATA[1];\r\n  try {\r\n    await db.collection('plans').doc(planID).collection('actions').doc(id).delete();\r\n  } catch (err) {\r\n    console.log('Error while trying to delete action:');\r\n    console.log(err.message);\r\n  }\r\n}\r\n\r\nexport const addPlan = async (text, date) => {\r\n  const db = window._DEFAULT_DATA[1];\r\n  await db.collection('plans').add({\r\n    date: firebase.firestore.Timestamp.fromDate(date),\r\n    title: text\r\n  });\r\n}\r\n\r\n\r\nexport const deletePlan = async id => {\r\n  const db = window._DEFAULT_DATA[1];\r\n  try {\r\n    let snapshot = await db.collection('plans').doc(id).collection('actions').get();\r\n    await db.collection('plans').doc(id).delete();\r\n    console.log('plan deleted:', id)\r\n    snapshot.forEach(action => {\r\n      action.ref.delete();\r\n    });\r\n  } catch (err) {\r\n    console.log('Error when trying to delete plan with id', id);\r\n    console.log(err.message);\r\n  }\r\n}\r\n\r\nexport const getPlanByDate = async date => {\r\n  const db = window._DEFAULT_DATA[1];\r\n  try {\r\n    let firstPlan, secondPlan;\r\n    let firstSnapshot = await db.collection('plans').orderBy('date').startAt(date).limit(1).get();\r\n    let secondSnapshot = await db.collection('plans').orderBy('date', 'desc').startAt(date).limit(1).get();\r\n    await firstSnapshot.forEach(plan => {\r\n      firstPlan = {id: plan.id, data: plan.data()};\r\n    });\r\n    await secondSnapshot.forEach(plan => {\r\n      secondPlan = {id: plan.id, data: plan.data()};\r\n    })\r\n    if (firstPlan === undefined) {\r\n      return secondPlan.id;\r\n    } else if (secondPlan === undefined) {\r\n      return firstPlan.id;\r\n    }\r\n    let earlierDate = secondsToDate(secondPlan.data.date.seconds);\r\n    let laterDate = secondsToDate(firstPlan.data.date.seconds);\r\n    if (compareDates(earlierDate, date) === 0) {\r\n      return secondPlan.id;\r\n    } else if (compareDates(laterDate, date) === 0) {\r\n      return firstPlan.id;\r\n    } else {\r\n      let earlierSecDiff = Math.abs(secondPlan.data.date.seconds - date.getTime() / 1000)\r\n      let laterSecDiff = Math.abs(firstPlan.data.date.seconds - date.getTime() / 1000);\r\n      if (earlierSecDiff < laterSecDiff) {\r\n        return secondPlan.id;\r\n      } else {\r\n        return firstPlan.id\r\n      }\r\n    }\r\n  } catch (err) {\r\n    console.log(`couldn't retrieve plans.`);\r\n    console.log(err.message)\r\n  }\r\n}\r\n\r\nexport const addUserToCollection = async user => {\r\n  let db = window._DEFAULT_DATA[1];\r\n  let dbUser = await db.collection('users').doc(user.uid).get();\r\n  if (!dbUser.exists) {\r\n    await db.collection('users').doc(user.uid).set({\r\n      email: user.email,\r\n      authLevel: 'basic'\r\n    })\r\n  }\r\n  return;\r\n}\r\n","import React, { useState } from 'react'\r\nimport { toggleSignup, toggleSignin } from '../utils/toggleSetup';\r\nimport { getPlanByDate } from '../utils/dbStuff';\r\nimport DatePicker from 'react-datepicker';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nconst Navbar = (props) => {\r\n  let [search, setSearch] = useState('');\r\n  let userPresent = props.user ? 'shown' : 'notShown';\r\n  let userNotPresent = props.user ? 'notShown' : 'shown';\r\n  let initials = '';\r\n  if (props.user) {\r\n    if (props.user.displayName) {\r\n      let names = props.user.displayName.split(' ');\r\n      if (names.length > 1) {\r\n        initials = names[0][0].toUpperCase() + names[1][0].toUpperCase();\r\n      } else {\r\n        initials = names[0][0].toUpperCase();\r\n      }\r\n\r\n    } else {\r\n      initials = props.user.email[0].toUpperCase();\r\n    }\r\n  }\r\n  var buttonEnable = true;\r\n  if (props.user) {\r\n    buttonEnable = false;\r\n  }\r\n\r\n  const signOut = () => {\r\n    const auth = window._DEFAULT_DATA[0];\r\n    auth.signOut();\r\n  }\r\n\r\n  const handleSearch = async e => {\r\n    e.preventDefault();\r\n    let planID = await getPlanByDate(search);\r\n    props.scrollToPlan(planID);\r\n  }\r\n\r\n  return(\r\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light\" id=\"nav-bootstrap-overrides\">\r\n      <div className=\"row center navDiv\">\r\n        <img src=\"./img/logo.png\" alt=\":)\" className=\"logo\"/>\r\n        <h1 className=\"heading\">DayMaker</h1>\r\n      </div>\r\n      <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n        <span className=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n      <div className=\"row center navDiv navbar-collapse collapse\" id=\"navbarNav\">\r\n        <h5 className={`user-state ${userNotPresent}`} onClick={toggleSignup}>Sign Up</h5>\r\n        <h5 className={`user-state ${userNotPresent}`} onClick={toggleSignin}>Sign In</h5>\r\n        <button className={`btn btn-warning userIcon ${userPresent}`}>{initials}</button>\r\n        <h5 className={`user-state ${userPresent}`} onClick={signOut}>Sign Out</h5>\r\n        <form className=\"form-inline\" onSubmit={handleSearch}>\r\n          <DatePicker selected={search} onSelect={date => setSearch(date)} className=\"form-control mr-sm-2\" placeholderText=\"03-Jun-20\" dateFormat=\"d-MMM-yy\"/>\r\n          <button className=\"btn btn-outline-warning my-2 my-sm-0\" disabled={buttonEnable} type=\"submit\">Search</button>\r\n        </form>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import React from 'react'\r\nimport { displayStopwatch, displayDate, titleDate } from '../utils/dateStuff';\r\nimport DatePicker from 'react-datepicker';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { addPlan } from '../utils/dbStuff';\r\n\r\nclass NewDay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      seconds: 0,\r\n      stopwatchString: displayStopwatch(0),\r\n      currentDate: new Date(),\r\n      planDate: new Date(),\r\n      planTitle: '',\r\n      displayNotification: 'none',\r\n      displayNotificationText: 'Plan created!'\r\n    }\r\n    this.dateRef = React.createRef();\r\n  }\r\n\r\n\r\n\r\n  componentDidMount() {\r\n    this.interval = setInterval(this.tick, 1000);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  handleSelect = planDate => {\r\n    this.setState({\r\n      planDate: planDate\r\n    });\r\n    const title = document.querySelector('.new-title');\r\n    if (title) {\r\n      if (!title.value) {\r\n        this.setState({planTitle: titleDate(planDate)});\r\n      }\r\n    }\r\n  }\r\n\r\n  handleInput = e => {\r\n    this.setState({planTitle: e.target.value});\r\n  }\r\n\r\n  handleSubmit = async e => {\r\n    e.preventDefault();\r\n    if (this.state.planTitle) {\r\n      this.setState({\r\n        displayNotification: 'block',\r\n        planTitle: '',\r\n        planDate: new Date(),\r\n      });\r\n      await addPlan(this.state.planTitle, this.state.planDate);\r\n      this.props.updatePlans();\r\n    } else {\r\n      this.setState({\r\n        displayNotification: 'block',\r\n        planTitle: '',\r\n        planDate: new Date(),\r\n        displayNotificationText: 'Add a title!'\r\n      })\r\n    }\r\n\r\n    setTimeout(() => {\r\n      this.setState({\r\n        displayNotification: 'none',\r\n        displayNotificationText: 'Plan created!'\r\n      });\r\n    }, 5000);\r\n  }\r\n\r\n  tick = () => {\r\n    const stopwatchString = displayStopwatch(this.state.seconds);\r\n    this.setState((state, props) => ({\r\n      stopwatchString: stopwatchString,\r\n      seconds: state.seconds + 1,\r\n      currentDate: new Date()\r\n    }))\r\n  }\r\n\r\n  render () {\r\n    let buttonEnable;\r\n    if (this.props.user) {\r\n      buttonEnable = false;\r\n    } else {\r\n      buttonEnable = true;\r\n    }\r\n    const dateString = displayDate(this.state.currentDate);\r\n    return(\r\n      <div>\r\n        <div className=\"time\">\r\n          <span>{this.state.stopwatchString}</span>\r\n          <h4>{dateString}</h4>\r\n        </div>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"form-center\">\r\n            <DatePicker inline selected={this.state.planDate} onSelect={this.handleSelect} ref={this.dateRef} autoFocus/>\r\n            <input className=\"new-title form-control\" type=\"text\" value={this.state.planTitle} placeholder=\"Plan title\" onChange={this.handleInput}/>\r\n            <div className=\"tooltip-container\">\r\n              <button className=\"btn btn-outline-warning\" disabled={buttonEnable} type=\"submit\">Create</button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n        <div className=\"plan-created\" style={{display: this.state.displayNotification}}>\r\n          Plan created!\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewDay;\r\n","import React from 'react'\r\nimport DayPlan from './DayPlan';\r\nimport { toggleSignup, toggleSignin } from '../utils/toggleSetup';\r\nimport { compareDates } from '../utils/dateStuff';\r\nimport NewDay from './NewDay';\r\nimport { getActions } from '../utils/dbStuff';\r\nimport { overlapActions } from '../utils/actionOverlap';\r\n\r\nclass Dashboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      plans: [] // Each of the form [id, planData]\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.user !== this.props.user) {\r\n      if (this.props.user) {\r\n        this.getPlans();\r\n      } else {\r\n        this.setState({plans: []});\r\n      }\r\n    }\r\n  }\r\n\r\n  updatePlan = async (e, id) => {\r\n    let myPlan;\r\n    for (let plan of this.state.plans) {\r\n      if (plan.id === id) {\r\n        myPlan = plan.data;\r\n      }\r\n    }\r\n    if (!myPlan) {\r\n      console.log('No plan found');\r\n      return;\r\n    }\r\n    const db = window._DEFAULT_DATA[1];\r\n    await db.collection('plans').doc(id).update({\r\n      title: myPlan.title,\r\n      date: myPlan.date,\r\n    });\r\n    return;\r\n  }\r\n\r\n  getPlans = async () => {\r\n    const db = window._DEFAULT_DATA[1];\r\n    let myPlans = [];\r\n    let userRef = await db.collection('users').doc(this.props.user.uid);\r\n    let querySnapshot;\r\n    let user = await userRef.get();\r\n\r\n    if (user.exists) {\r\n      if (user.data().authLevel === 'full') {\r\n        querySnapshot = await db.collection('plans').get();\r\n      } else {\r\n        querySnapshot = await db.collection('plans').where('user', '==', userRef).get();\r\n      }\r\n      querySnapshot.forEach(plan => {\r\n        getActions(plan.id).then(actions => {\r\n          myPlans.push({id: plan.id, data: {...plan.data(), actions}});\r\n          let orderedPlans = myPlans.sort((a, b) => {\r\n            if (compareDates(a.data.date.toDate(), b.data.date.toDate()) === 1) {\r\n              return -1;\r\n            } else {\r\n              return 1;\r\n            }\r\n          });\r\n          this.setState({plans: orderedPlans});\r\n        }).catch(err => {\r\n          console.log('Error getting actions', err.message)\r\n        });\r\n      });\r\n      return;\r\n    } else {\r\n      console.log('user DNE in collection')\r\n    }\r\n\r\n  }\r\n\r\n  removePlan = (id) => {\r\n    let plans = this.state.plans.filter(plan => plan.id !== id);\r\n    this.setState({plans});\r\n  }\r\n\r\n  updateActions = async (planId) => {\r\n    let myActions = await getActions(planId)\r\n    let myPlans = this.state.plans;\r\n    let plans = myPlans.map(plan => {\r\n      if (plan.id === planId) {\r\n        plan.data.actions = myActions;\r\n        plan.overlappingActions = overlapActions(myActions);\r\n      }\r\n      return plan;\r\n    });\r\n    this.setState({plans});\r\n  }\r\n\r\n  renamePlan = (e, id) => {\r\n    let title = e.target.value;\r\n    let myPlans = this.state.plans;\r\n    let plans = myPlans.map(plan => {\r\n      if (plan.id === id) {\r\n        plan.data.title = title;\r\n      }\r\n      return plan;\r\n    });\r\n    this.setState({plans});\r\n  }\r\n\r\n  choosePlanHeight = (plan) => {\r\n    let numActions = plan.actions.length;\r\n    let height = 400;\r\n    if (numActions < 2) {\r\n      height = 350;\r\n    } else if (numActions  < 4) {\r\n      height = 450;\r\n    } else {\r\n      height = 600;\r\n    }\r\n    return height;\r\n  }\r\n\r\n  assignNextPosition = (pA, pB, pC) => {\r\n    let position = '';\r\n    let num = Math.min(parseInt(pA), parseInt(pB));\r\n    if (window.innerWidth < 1400) {\r\n      position += 'C';\r\n      num = pC;\r\n    } else if (pA <= pB) {\r\n      position += 'A';\r\n    } else {\r\n      position += 'B';\r\n    }\r\n    return position + num.toString();\r\n  }\r\n\r\n  itemizePlans = () => {\r\n    let [pA, pB, pC] = [0, 0, 0]; // Next plan starting position for columnA/B or single col\r\n    return this.state.plans.map((plan, idx) => {\r\n      let id = plan.id;\r\n      let data = plan.data;\r\n      let height = this.choosePlanHeight(data);\r\n      let position = this.assignNextPosition(pA, pB, pC);\r\n      if (position[0] === 'A') {\r\n        pA += height + 60;\r\n      } else if (position[0] === 'B') {\r\n        pB += height + 60;\r\n      } else if (position[0] === 'C') {\r\n        pC += height + 60;\r\n      }\r\n      let d = new Date(1970, 0, 1, 1);\r\n      d.setSeconds(data.date.seconds);\r\n      let scrollToThis = id === this.props.searchedPlan;\r\n      if (plan.overlappingActions === undefined) {\r\n        plan.overlappingActions = [];\r\n      }\r\n      return <DayPlan key={idx}\r\n                      plan={data}\r\n                      keyProp={idx}\r\n                      date={d}\r\n                      id={id}\r\n                      height={height}\r\n                      position={position}\r\n                      renamePlan={this.renamePlan}\r\n                      actions={data.actions}\r\n                      loadActions={this.updateActions}\r\n                      title={data.title}\r\n                      getPlans={this.getPlans}\r\n                      updatePlan={this.updatePlan}\r\n                      removePlan={this.removePlan}\r\n                      scrollToThis={scrollToThis}\r\n                      overlappingActions={plan.overlappingActions}\r\n                      />\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let plans = this.itemizePlans();\r\n    let returnJSX;\r\n    if (this.props.user === null) {\r\n      returnJSX =  (\r\n        <div className=\"container plans-list\">\r\n          <div className=\"tell-login plan-box bg-light\">\r\n            To get started <span className=\"user-state\" onClick={toggleSignin}>Sign in</span> or <span onClick={toggleSignup} className=\"user-state\">Sign Up</span>.\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      returnJSX = (\r\n        <div className=\"container plans-list\">{plans}</div>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"gen-area\">\r\n        {returnJSX}\r\n        <div id=\"create-new\" className=\"plan-box bg-light\">\r\n          <NewDay user={this.props.user} updatePlans={this.getPlans}/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dashboard;\r\n","import React from 'react'\r\nimport { toggleSignup, googleLogin } from '../utils/toggleSetup';\r\n\r\nconst SignUp = (props) => {\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const form = e.target;\r\n    const firstName = form['signup-firstName'].value;\r\n    const lastName = form['signup-lastName'].value;\r\n    const email = form['signup-email'].value;\r\n    const password = form['signup-password'].value;\r\n    const auth = window._DEFAULT_DATA[0];\r\n    const db = window._DEFAULT_DATA[1];\r\n    auth.createUserWithEmailAndPassword(email, password)\r\n      .catch(err => {\r\n        console.log('There was an authentication error:');\r\n        console.log(err.message);\r\n      })\r\n      .then(result => {\r\n        form.reset();\r\n        form.closest('#modal-signup').classList.remove('shown');\r\n        db.collection('users').doc(result.user.uid).set({\r\n          authLevel: 'basic',\r\n          email,\r\n        });\r\n        return auth.currentUser.updateProfile({\r\n          displayName: firstName + \" \" + lastName\r\n        })\r\n      }).then(another => {\r\n        window.location.reload();\r\n      })\r\n      .catch(err => {\r\n        console.log('There was a UX error:');\r\n        console.log(err.message);\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div id=\"modal-signup\" className=\"modal user-state\" onClick={toggleSignup}>\r\n      <div className=\"modal-content\">\r\n        <h2>Sign up</h2>\r\n        <form id=\"signup-form\" onSubmit={handleSubmit}>\r\n          <div className=\"input-field\">\r\n            <input type=\"text\" id=\"signup-firstName\" placeholder=\"First name\"/>\r\n          </div>\r\n          <div className=\"input-field\">\r\n            <input type=\"text\" id=\"signup-lastName\" placeholder=\"Last name\"/>\r\n          </div>\r\n          <div className=\"input-field\">\r\n            <input type=\"email\" id=\"signup-email\" placeholder=\"Email\"/>\r\n          </div>\r\n          <div className=\"input-field\">\r\n            <input type=\"password\" id=\"signup-password\" placeholder=\"Password\"/>\r\n          </div>\r\n          <div className=\"or-container\">\r\n            <div className=\"h-line\">\r\n              <hr/>\r\n            </div>\r\n            <div className=\"or\">\r\n              OR\r\n            </div>\r\n            <div className=\"h-line\">\r\n              <hr/>\r\n            </div>\r\n            <div className=\"h-space\">\r\n            </div>\r\n          </div>\r\n          <img src={require('../googleLogin/web/2x/btn_google_signin_dark_normal_web@2x.png')} alt=\"Google Login\" onClick={googleLogin}/>\r\n          <button className=\"btn btn-outline-warning my-2 my-sm-0\">Sign up</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignUp\r\n","import React from 'react'\r\nimport { toggleSignin, googleLogin } from '../utils/toggleSetup';\r\n\r\nconst SignIn = (props) => {\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const form = e.target\r\n    const email = form['signin-email'].value;\r\n    const password = form['signin-password'].value;\r\n    const auth = window._DEFAULT_DATA[0];\r\n\r\n    auth.signInWithEmailAndPassword(email, password)\r\n    .then(cred => {\r\n      console.log(`${cred.user.email} logged in`);\r\n      form.reset();\r\n      form.closest('#modal-signin').classList.remove('shown');\r\n    })\r\n    .catch(err => {\r\n      console.log('could not log in:');\r\n      console.log(err.message);\r\n    });\r\n\r\n  }\r\n\r\n  return (\r\n    <div id=\"modal-signin\" className=\"modal user-state\" onClick={toggleSignin}>\r\n      <div className=\"modal-content\">\r\n        <h2>Sign in</h2>\r\n        <form id=\"signin-form\" onSubmit={handleSubmit}>\r\n          <div className=\"input-field\">\r\n            <input type=\"email\" id=\"signin-email\" placeholder=\"Email\"/>\r\n          </div>\r\n          <div className=\"input-field\">\r\n            <input type=\"password\" id=\"signin-password\" placeholder=\"Password\"/>\r\n          </div>\r\n          <div className=\"or-container\">\r\n            <div className=\"h-line\">\r\n              <hr/>\r\n            </div>\r\n            <div className=\"or\">\r\n              OR\r\n            </div>\r\n            <div className=\"h-line\">\r\n              <hr/>\r\n            </div>\r\n            <div className=\"h-space\">\r\n            </div>\r\n          </div>\r\n          <img src={require('../googleLogin/web/2x/btn_google_signin_dark_normal_web@2x.png')} alt=\"Google Login\" onClick={googleLogin}/>\r\n          <button className=\"btn btn-outline-warning my-2 my-sm-0\">Sign in</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignIn\r\n","import React from 'react';\nimport Navbar from './components/Navbar';\nimport Dashboard from './components/Dashboard';\nimport SignUp from './components/SignUp';\nimport SignIn from './components/SignIn';\nimport { addUserToCollection } from './utils/dbStuff';\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: undefined,\n      searchedPlan: ''\n    }\n  }\n\n  componentDidMount() {\n    const auth = window._DEFAULT_DATA[0];\n    auth.onAuthStateChanged(user => {\n      if (user) {\n        console.log('user is logged in: ', user)\n        // Add collection user if needed\n        addUserToCollection(user).then(() => {\n          this.setState({\n            user: user\n          })\n        });\n      } else {\n        this.setState({\n          user: null\n        })\n        console.log('user is logged out')\n      }\n    })\n  }\n\n  scrollToPlan = searchedPlan => {\n    this.setState({searchedPlan});\n    setTimeout(() => {\n      this.setState({searchedPlan: ''})\n    }, 4000)\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Navbar user={this.state.user} searchedPlan={this.state.searchedPlan} scrollToPlan={this.scrollToPlan}/>\n        <Dashboard user={this.state.user} searchedPlan={this.state.searchedPlan}/>\n        <div className=\"display-signup\">\n          <SignUp callLogin={this.toggleLoggedIn}/>\n        </div>\n        <div className=\"display-signin\">\n          <SignIn callLogin={this.toggleLoggedIn}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './css/index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nrequire('dotenv').config();\r\nconst apiKey = process.env.REACT_APP_API_KEY\r\n\r\nconst firebase = require('firebase');\r\nvar firebaseConfig = {\r\n  apiKey: apiKey,\r\n  authDomain: \"daymaker-13c82.firebaseapp.com\",\r\n  databaseURL: \"https://daymaker-13c82.firebaseio.com\",\r\n  projectId: \"daymaker-13c82\",\r\n  storageBucket: \"daymaker-13c82.appspot.com\",\r\n  messagingSenderId: \"859874985780\",\r\n  appId: \"1:859874985780:web:f705fd75fdc8ea3f300761\",\r\n  measurementId: \"G-JK0CT5P76X\"\r\n};\r\nfirebase.initializeApp(firebaseConfig);\r\nconst auth = firebase.auth();\r\nconst db = firebase.firestore();\r\ndb.settings({ experimentalForceLongPolling: true });\r\n\r\n// Initialize Firebase\r\nwindow._DEFAULT_DATA = [auth, db];\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}